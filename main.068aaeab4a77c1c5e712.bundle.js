webpackJsonp([1],{0:function(n,l,t){n.exports=t("cDNt")},cDNt:function(n,l,t){"use strict";function u(n){return E._35(0,[E._32(402653184,1,{canvas:0}),(n()(),E._17(1,0,[[1,0],["canvas",1]],null,0,"canvas",[],null,null,null,null,null)),(n()(),E._34(-1,null,["\n"]))],null,null)}function e(n){return E._35(0,[(n()(),E._17(0,0,null,null,1,"app-canvas-preview",[],null,null,null,u,N)),E._15(1,114688,null,0,S,[],null,null)],function(n,l){n(l,1,0)},null)}function a(n){return R._35(0,[(n()(),R._17(0,0,null,null,34,"div",[["class","footer"]],null,null,null,null,null)),(n()(),R._34(-1,null,["\n    "])),(n()(),R._17(2,0,null,null,1,"label",[["for","divider"]],null,null,null,null,null)),(n()(),R._34(-1,null,["Divider"])),(n()(),R._34(-1,null,["\n    "])),(n()(),R._17(5,0,null,null,6,"input",[["id","divider"],["step","1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,e=n.component;if("input"===l){u=!1!==R._30(n,6)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==R._30(n,6).onTouched()&&u}if("compositionstart"===l){u=!1!==R._30(n,6)._compositionStart()&&u}if("compositionend"===l){u=!1!==R._30(n,6)._compositionEnd(t.target.value)&&u}if("change"===l){u=!1!==R._30(n,7).onChange(t.target.value)&&u}if("input"===l){u=!1!==R._30(n,7).onChange(t.target.value)&&u}if("blur"===l){u=!1!==R._30(n,7).onTouched()&&u}if("ngModelChange"===l){u=!1!==(e.global.divider=t)&&u}return u},null,null)),R._15(6,16384,null,0,T.b,[R.N,R.n,[2,T.a]],null,null),R._15(7,16384,null,0,T.i,[R.N,R.n],null,null),R._31(1024,null,T.d,function(n,l){return[n,l]},[T.b,T.i]),R._15(9,671744,null,0,T.g,[[8,null],[8,null],[8,null],[2,T.d]],{model:[0,"model"]},{update:"ngModelChange"}),R._31(2048,null,T.e,null,[T.g]),R._15(11,16384,null,0,T.f,[T.e],null,null),(n()(),R._34(-1,null,["\n    "])),(n()(),R._17(13,0,null,null,1,"label",[["for","percent"]],null,null,null,null,null)),(n()(),R._34(-1,null,["Minimal percentage match"])),(n()(),R._34(-1,null,["\n    "])),(n()(),R._17(16,0,null,null,6,"input",[["id","percent"],["step","10"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,e=n.component;if("input"===l){u=!1!==R._30(n,17)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==R._30(n,17).onTouched()&&u}if("compositionstart"===l){u=!1!==R._30(n,17)._compositionStart()&&u}if("compositionend"===l){u=!1!==R._30(n,17)._compositionEnd(t.target.value)&&u}if("change"===l){u=!1!==R._30(n,18).onChange(t.target.value)&&u}if("input"===l){u=!1!==R._30(n,18).onChange(t.target.value)&&u}if("blur"===l){u=!1!==R._30(n,18).onTouched()&&u}if("ngModelChange"===l){u=!1!==(e.global.minimalPercentage=t)&&u}return u},null,null)),R._15(17,16384,null,0,T.b,[R.N,R.n,[2,T.a]],null,null),R._15(18,16384,null,0,T.i,[R.N,R.n],null,null),R._31(1024,null,T.d,function(n,l){return[n,l]},[T.b,T.i]),R._15(20,671744,null,0,T.g,[[8,null],[8,null],[8,null],[2,T.d]],{model:[0,"model"]},{update:"ngModelChange"}),R._31(2048,null,T.e,null,[T.g]),R._15(22,16384,null,0,T.f,[T.e],null,null),(n()(),R._34(-1,null,["\n    "])),(n()(),R._17(24,0,null,null,1,"label",[["for","margin"]],null,null,null,null,null)),(n()(),R._34(-1,null,["Margin modifier"])),(n()(),R._34(-1,null,["\n    "])),(n()(),R._17(27,0,null,null,6,"input",[["id","margin"],["step",".1"],["type","number"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"],[null,"change"]],function(n,l,t){var u=!0,e=n.component;if("input"===l){u=!1!==R._30(n,28)._handleInput(t.target.value)&&u}if("blur"===l){u=!1!==R._30(n,28).onTouched()&&u}if("compositionstart"===l){u=!1!==R._30(n,28)._compositionStart()&&u}if("compositionend"===l){u=!1!==R._30(n,28)._compositionEnd(t.target.value)&&u}if("change"===l){u=!1!==R._30(n,29).onChange(t.target.value)&&u}if("input"===l){u=!1!==R._30(n,29).onChange(t.target.value)&&u}if("blur"===l){u=!1!==R._30(n,29).onTouched()&&u}if("ngModelChange"===l){u=!1!==(e.global.marginModifier=t)&&u}return u},null,null)),R._15(28,16384,null,0,T.b,[R.N,R.n,[2,T.a]],null,null),R._15(29,16384,null,0,T.i,[R.N,R.n],null,null),R._31(1024,null,T.d,function(n,l){return[n,l]},[T.b,T.i]),R._15(31,671744,null,0,T.g,[[8,null],[8,null],[8,null],[2,T.d]],{model:[0,"model"]},{update:"ngModelChange"}),R._31(2048,null,T.e,null,[T.g]),R._15(33,16384,null,0,T.f,[T.e],null,null),(n()(),R._34(-1,null,["\n  "]))],function(n,l){var t=l.component;n(l,9,0,t.global.divider),n(l,20,0,t.global.minimalPercentage),n(l,31,0,t.global.marginModifier)},function(n,l){n(l,5,0,R._30(l,11).ngClassUntouched,R._30(l,11).ngClassTouched,R._30(l,11).ngClassPristine,R._30(l,11).ngClassDirty,R._30(l,11).ngClassValid,R._30(l,11).ngClassInvalid,R._30(l,11).ngClassPending),n(l,16,0,R._30(l,22).ngClassUntouched,R._30(l,22).ngClassTouched,R._30(l,22).ngClassPristine,R._30(l,22).ngClassDirty,R._30(l,22).ngClassValid,R._30(l,22).ngClassInvalid,R._30(l,22).ngClassPending),n(l,27,0,R._30(l,33).ngClassUntouched,R._30(l,33).ngClassTouched,R._30(l,33).ngClassPristine,R._30(l,33).ngClassDirty,R._30(l,33).ngClassValid,R._30(l,33).ngClassInvalid,R._30(l,33).ngClassPending)})}function i(n){return R._35(0,[(n()(),R._17(0,0,null,null,13,"div",[["class","header"]],null,null,null,null,null)),(n()(),R._34(-1,null,["\n  "])),(n()(),R._17(2,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.router.navigate(["/"])&&u}return u},null,null)),(n()(),R._34(-1,null,["Home"])),(n()(),R._34(-1,null,["\n  "])),(n()(),R._17(5,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.router.navigate(["/game"])&&u}return u},null,null)),(n()(),R._34(-1,null,["Game"])),(n()(),R._34(-1,null,["\n  "])),(n()(),R._17(8,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.router.navigate(["/debugger"])&&u}return u},null,null)),(n()(),R._34(-1,null,["Debugger"])),(n()(),R._34(-1,null,["\n  "])),(n()(),R._17(11,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!=(e.global.showSettings=!e.global.showSettings)&&u}return u},null,null)),(n()(),R._34(-1,null,["Settings"])),(n()(),R._34(-1,null,["\n"])),(n()(),R._34(-1,null,["\n"])),(n()(),R._17(15,0,null,null,6,"div",[["class","content"]],null,null,null,null,null)),(n()(),R._34(-1,null,["\n  "])),R._29(null,0),(n()(),R._34(-1,null,["\n  "])),(n()(),R._11(16777216,null,null,1,null,a)),R._15(20,16384,null,0,j.i,[R.Z,R.W],{ngIf:[0,"ngIf"]},null),(n()(),R._34(-1,null,["\n"])),(n()(),R._34(-1,null,["\n"])),(n()(),R._17(23,0,null,null,3,"div",[["class","footer"]],null,null,null,null,null)),(n()(),R._34(-1,null,["\n  "])),R._29(null,1),(n()(),R._34(-1,null,["\n"])),(n()(),R._34(-1,null,["\n\n\n\n"]))],function(n,l){n(l,20,0,l.component.global.showSettings)},null)}function o(n){return R._35(0,[(n()(),R._17(0,0,null,null,1,"app-mainscreen",[],null,null,null,i,A)),R._15(1,114688,null,0,P,[D,F.k],null,null)],function(n,l){n(l,1,0)},null)}function r(n){return X._35(0,[(n()(),X._17(0,0,null,null,1,"app-canvas-preview",[],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.fx.loadImageData(n.context.index)&&u}return u},u,N)),X._15(1,114688,null,0,S,[],{imageData:[0,"imageData"]},null)],function(n,l){n(l,1,0,l.context.$implicit)},null)}function s(n){return X._35(0,[X._32(402653184,1,{mainCanvas:0}),(n()(),X._17(1,0,null,null,41,"app-mainscreen",[],null,null,null,i,A)),X._15(2,114688,null,0,P,[D,q.k],null,null),(n()(),X._34(-1,null,["\n  "])),(n()(),X._17(4,0,null,0,6,"content",[],null,null,null,null,null)),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(6,0,null,null,3,"div",[["class","drawer"]],null,null,null,null,null)),(n()(),X._34(-1,null,["\n      "])),(n()(),X._17(8,0,[[1,0],["mainCanvas",1]],null,0,"canvas",[],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.drawRect(t)&&u}return u},null,null)),(n()(),X._34(-1,null,["\n    "])),(n()(),X._34(-1,null,["\n  "])),(n()(),X._34(-1,null,["\n  "])),(n()(),X._17(12,0,null,1,29,"footer",[],null,null,null,null,null)),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(14,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.saveData()&&u}return u},null,null)),(n()(),X._34(-1,null,["Export"])),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(17,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.fx.antWar()&&u}return u},null,null)),(n()(),X._34(-1,null,["Ant War"])),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(20,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.fx.saveImageData()&&u}return u},null,null)),(n()(),X._34(-1,null,["Save"])),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(23,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.fx.loadImageData(0)&&u}return u},null,null)),(n()(),X._34(-1,null,["Load"])),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(26,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.drawShades()&&u}return u},null,null)),(n()(),X._34(-1,null,["Averages"])),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(29,0,null,null,5,"label",[["class","custom-file"]],null,null,null,null,null)),(n()(),X._34(-1,null,["\n      "])),(n()(),X._17(31,0,null,null,0,"input",[["class","custom-file-input"],["type","file"]],null,[[null,"change"]],function(n,l,t){var u=!0,e=n.component;if("change"===l){u=!1!==e.loadData(t)&&u}return u},null,null)),(n()(),X._34(-1,null,["\n      "])),(n()(),X._17(33,0,null,null,0,"span",[["class","custom-file-control"]],null,null,null,null,null)),(n()(),X._34(-1,null,["\n    "])),(n()(),X._34(-1,null,["\n    "])),(n()(),X._17(36,0,null,null,4,"div",[["class","previews"]],null,null,null,null,null)),(n()(),X._34(-1,null,["\n      "])),(n()(),X._11(16777216,null,null,1,null,r)),X._15(39,802816,null,0,U.h,[X.Z,X.W,X.y],{ngForOf:[0,"ngForOf"]},null),(n()(),X._34(-1,null,["\n    "])),(n()(),X._34(-1,null,["\n  "])),(n()(),X._34(-1,null,["\n"])),(n()(),X._34(-1,null,["\n"]))],function(n,l){var t=l.component;n(l,2,0),n(l,39,0,t.global.imageDataStore)},null)}function c(n){return X._35(0,[(n()(),X._17(0,0,null,null,1,"app-drawer",[],null,null,null,s,K)),X._15(1,638976,null,0,W,[D],null,null)],function(n,l){n(l,1,0)},null)}function _(n){return H._35(0,[H._32(402653184,1,{previewVideo:0}),H._32(402653184,2,{previewCanvas:0}),(n()(),H._17(2,0,null,null,18,"app-mainscreen",[],null,null,null,i,A)),H._15(3,114688,null,0,P,[D,Q.k],null,null),(n()(),H._34(-1,null,["\n  "])),(n()(),H._17(5,0,null,0,8,"content",[],null,null,null,null,null)),(n()(),H._34(-1,null,["\n    "])),(n()(),H._17(7,0,null,null,5,"div",[["class","preview"]],null,null,null,null,null)),(n()(),H._34(-1,null,["\n      "])),(n()(),H._17(9,0,[[1,0],["previewVideo",1]],null,0,"video",[],null,null,null,null,null)),(n()(),H._34(-1,null,["\n      "])),(n()(),H._17(11,0,[[2,0],["previewCanvas",1]],null,0,"canvas",[],null,null,null,null,null)),(n()(),H._34(-1,null,["\n    "])),(n()(),H._34(-1,null,["\n  "])),(n()(),H._34(-1,null,["\n  "])),(n()(),H._17(15,0,null,1,4,"footer",[],null,null,null,null,null)),(n()(),H._34(-1,null,["\n    "])),(n()(),H._17(17,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.fx.drawFrame()&&u}return u},null,null)),(n()(),H._34(-1,null,["Frame"])),(n()(),H._34(-1,null,["\n  "])),(n()(),H._34(-1,null,["\n"])),(n()(),H._34(-1,null,["\n\n"]))],function(n,l){n(l,3,0)},null)}function g(n){return H._35(0,[(n()(),H._17(0,0,null,null,1,"app-debugger",[],null,null,null,_,nn)),H._15(1,114688,null,0,Y,[D],null,null)],function(n,l){n(l,1,0)},null)}function d(n){return on._35(0,[(n()(),on._17(0,0,null,null,8,"div",[["class","preview"]],null,null,null,null,null)),(n()(),on._34(-1,null,["\n      "])),(n()(),on._17(2,0,[[1,0],["previewVideo",1]],null,0,"video",[],null,null,null,null,null)),(n()(),on._34(-1,null,["\n      "])),(n()(),on._17(4,0,[[2,0],["previewCanvas",1]],null,0,"canvas",[],null,null,null,null,null)),(n()(),on._34(-1,null,["\n      "])),(n()(),on._17(6,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),on._34(7,null,["",""])),(n()(),on._34(-1,null,["\n    "]))],null,function(n,l){n(l,7,0,l.component.percentage)})}function h(n){return on._35(0,[(n()(),on._34(-1,null,["\n      "])),(n()(),on._17(1,0,null,null,1,"div",[],null,null,null,null,null)),(n()(),on._34(-1,null,["Loading game data..."])),(n()(),on._34(-1,null,["\n    "]))],null,null)}function f(n){return on._35(0,[(n()(),on._17(0,0,null,null,1,"button",[["class","btn btn-primary"]],null,[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.start()&&u}return u},null,null)),(n()(),on._34(-1,null,["Start Game"]))],null,null)}function p(n){return on._35(0,[(n()(),on._17(0,0,null,null,1,"button",[["class","btn btn-primary"]],[[8,"disabled",0]],[[null,"click"]],function(n,l,t){var u=!0,e=n.component;if("click"===l){u=!1!==e.next()&&u}return u},null,null)),(n()(),on._34(-1,null,["Next"]))],null,function(n,l){n(l,0,0,!l.component.allowNext)})}function v(n){return on._35(0,[on._32(671088640,1,{previewVideo:0}),on._32(671088640,2,{previewCanvas:0}),(n()(),on._17(2,0,null,null,19,"app-mainscreen",[],null,null,null,i,A)),on._15(3,114688,null,0,P,[D,rn.k],null,null),(n()(),on._34(-1,null,["\n  "])),(n()(),on._17(5,0,null,0,6,"content",[],null,null,null,null,null)),(n()(),on._34(-1,null,["\n    "])),(n()(),on._11(16777216,null,null,1,null,d)),on._15(8,16384,null,0,sn.i,[on.Z,on.W],{ngIf:[0,"ngIf"],ngIfElse:[1,"ngIfElse"]},null),(n()(),on._34(-1,null,["\n    "])),(n()(),on._11(0,[["error",2]],null,0,null,h)),(n()(),on._34(-1,null,["\n  "])),(n()(),on._34(-1,null,["\n  "])),(n()(),on._17(13,0,null,1,7,"footer",[],null,null,null,null,null)),(n()(),on._34(-1,null,["\n    "])),(n()(),on._11(16777216,null,null,1,null,f)),on._15(16,16384,null,0,sn.i,[on.Z,on.W],{ngIf:[0,"ngIf"]},null),(n()(),on._34(-1,null,["\n    "])),(n()(),on._11(16777216,null,null,1,null,p)),on._15(19,16384,null,0,sn.i,[on.Z,on.W],{ngIf:[0,"ngIf"]},null),(n()(),on._34(-1,null,["\n  "])),(n()(),on._34(-1,null,["\n"])),(n()(),on._34(-1,null,["\n\n"]))],function(n,l){var t=l.component;n(l,3,0),n(l,8,0,0!==t.global.imageDataStore.length,on._30(l,10)),n(l,16,0,t.gameStart),n(l,19,0,!t.gameStart)},null)}function m(n){return on._35(0,[(n()(),on._17(0,0,null,null,1,"app-game",[],null,null,null,v,gn)),on._15(1,12632064,null,0,an,[D,cn.c],null,null)],null,null)}function b(n){return fn._35(0,[(n()(),fn._17(0,16777216,null,null,1,"router-outlet",[],null,null,null,null,null)),fn._15(1,212992,null,0,pn.m,[pn.b,fn.Z,fn.k,[8,null],fn.i],null,null),(n()(),fn._34(-1,null,["\n"])),(n()(),fn._34(-1,null,["\n"]))],function(n,l){n(l,1,0)},null)}function y(n){return fn._35(0,[(n()(),fn._17(0,0,null,null,1,"app-root",[],null,null,null,b,mn)),fn._15(1,4308992,null,0,x,[D],null,null)],function(n,l){n(l,1,0)},null)}Object.defineProperty(l,"__esModule",{value:!0});var w={production:!0},C=function(){function n(){}return n}(),D=function(){function n(){this.divider=8,this.marginModifier=.7,this.minimalPercentage=80,this.showSettings=!1,this.scales={x:320,y:320},this.imageDataStore=[]}return n.prototype.readData=function(n){var l,t=this,u=new FileReader;u.addEventListener("loadend",function(n){var u=n.srcElement.result;(l=JSON.parse(u))&&l.forEach&&t.importDataStore(l)}),u.readAsText(n)},n.prototype.importDataStore=function(n){var l=this;n.forEach(function(n){var t=Object.values(n.data),u=new ImageData(Uint8ClampedArray.from(t),n.width||l.scales.x,n.height||l.scales.y);l.imageDataStore.push(u)})},n.ctorParameters=function(){return[]},n}(),x=function(){function n(n){this.global=n,w.production||(window.app=this)}return n.prototype.ngOnInit=function(){},n.prototype.ngAfterViewInit=function(){},n.ctorParameters=function(){return[{type:D}]},n}(),k=[""],I=[""],S=function(){function n(){}return n.prototype.ngOnInit=function(){var n=this.canvas.nativeElement;n.width=this.imageData.width,n.height=this.imageData.height,n.getContext("2d").putImageData(this.imageData,0,0)},n.ctorParameters=function(){return[]},n}(),E=t("/oeL"),M=[I],N=E._14({encapsulation:0,styles:M,data:{}}),B=(E._12("app-canvas-preview",S,e,{imageData:"imageData"},{},[]),[""]),O=t("BkNc"),P=function(){function n(n,l){this.global=n,this.router=l}return n.prototype.ngOnInit=function(){},n.ctorParameters=function(){return[{type:D},{type:O.k}]},n}(),R=t("/oeL"),T=t("bm2B"),j=t("qbdv"),F=t("BkNc"),V=[B],A=R._14({encapsulation:0,styles:V,data:{}}),L=(R._12("app-mainscreen",P,o,{},{},["content","footer"]),function(){function n(n,l,t){this.global=n,this.canvas=l,this.video=t,this.initCanvas(l),this.setCtx(l)}return n.prototype.initCamera=function(n){var l={audio:!1,video:{width:this.global.scales.x,height:this.global.scales.y,frameRate:15,facingMode:["environment"],aspectRatio:1}};navigator.mediaDevices.getUserMedia(l).then(function(l){n.srcObject=l,n.onloadedmetadata=function(l){n.play()}}).catch(function(n){w.production?console.error(n.name+": "+n.message):alert(n.message)})},n.prototype.setCtx=function(n){this.ctx=n.getContext("2d")},n.prototype.initCanvas=function(n){var l=this.getCanvas(n);this.video,l.width=this.global.scales.x,l.height=this.global.scales.y},n.prototype.saveImageData=function(){this.global.imageDataStore.push(this.ctx.getImageData(0,0,this.ctx.canvas.width,this.ctx.canvas.height))},n.prototype.loadImageData=function(n){this.ctx.putImageData(this.global.imageDataStore[n],0,0)},n.prototype.antWar=function(){this.drawRandom(),this.grayscale()},n.prototype.drawRectangle=function(n,l,t,u,e,a){var i=this.getCanvas(e),o=i.getContext("2d"),r=new Path2D;r.rect(n,l,t,u),o.fillStyle=a||"red",o.fill(r)},n.prototype.drawRectangleToCoords=function(n,l,t){var u=t.getBoundingClientRect(),e=u.width,a=u.height,i=e/this.global.divider*t.width/u.width,o=a/this.global.divider*t.height/u.height,r=n*t.width/u.width,s=l*t.height/u.height,c=r-r%i,_=s-s%o;this.drawRectangle(Math.floor(c),Math.floor(_),Math.ceil(i),Math.ceil(o),t,"black")},n.prototype.drawRandom=function(){var n=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height);n.data.forEach(function(l,t){return n.data[t]=Math.round(255*Math.random())}),this.ctx.putImageData(n,0,0)},n.prototype.grayscale=function(){for(var n=this.ctx.getImageData(0,0,this.canvas.width,this.canvas.height),l=n.data,t=0;t<l.length;t+=4){var u=(l[t]+l[t+1]+l[t+2])/3;l[t]=u,l[t+1]=u,l[t+2]=u}this.ctx.putImageData(n,0,0)},n.prototype.getAverageDarknessFromCanvas=function(n){var l=this.getCanvas(n);return this.averageDarknessByDivider(l)},n.prototype.drawExtremeShadesWithMargin=function(n){var l=this.getCanvas(n),t=this.getExtremes(l);this.drawRectsByDivider(l,t)},n.prototype.getExtremes=function(n){var l=this,t=this.getCanvas(n),u=0,e=this.averageDarknessByDivider(t);e.forEach(function(n){return u+=n});var a=u/e.length;return e.forEach(function(n,t){return n>a*l.global.marginModifier?e[t]=0:e[t]=255}),e},n.prototype.drawShades=function(n){var l=this.getCanvas(n),t=this.averageDarknessByDivider(l);this.drawRectsByDivider(l,t)},n.prototype.doTaskByDivider=function(n,l){for(var t=this,u=this.getCanvas(n),e=this.global.divider,a=u.getContext("2d"),i=Math.pow(e,2),o=u.width/e,r=u.height/e,s=[],c=0,_=0,g=0;g<i;g++)!function(n){var i=c*Math.floor(o),g=_*Math.floor(r);l?function(){var a=255-l[n];t.drawRectangle(i,g,Math.ceil(o),Math.ceil(r),u,"rgba("+a+","+a+","+a+",1)"),++c===e&&(c=0,_++)}():function(){for(var n=a.getImageData(i,g,Math.ceil(o),Math.ceil(r)),l=0,t=0;t<n.data.length;)0===n.data[t+3]?l+=765:l+=n.data[t]+n.data[t+1]+n.data[t+2],t+=4;var u=l/(.75*n.data.length);s.push(Math.round(u)),++c===e&&(c=0,_++)}()}(g);return s},n.prototype.drawRectsByDivider=function(n,l){var t=this.getCanvas(n);this.doTaskByDivider(t,l)},n.prototype.averageDarknessByDivider=function(n){var l=this.getCanvas(n);return this.doTaskByDivider(l)},n.prototype.drawFrame=function(n){var l=this.getCanvas(n),t=l.getContext("2d");this.video&&(this.initCanvas(l),this.video.pause(),t.drawImage(this.video,0,0),this.video.currentTime<this.video.duration&&this.video.play())},n.prototype.getFrameDataCanvas=function(){var n=document.createElement("canvas");return this.drawFrame(n),n},n.prototype.getCanvas=function(n){var l=n;return l||(l=this.canvas),l},n}()),G=t("bbdN"),W=(t.n(G),function(){function n(n){this.global=n}return n.prototype.ngOnInit=function(){this.fx=new L(this.global,this.mainCanvas.nativeElement)},n.prototype.saveData=function(){var n=new Blob([JSON.stringify(this.global.imageDataStore)],{type:"text/plain;charset=utf-8"});G.saveAs(n,"imageData.txt")},n.prototype.loadData=function(n){var l=n.target.files[0];this.global.readData(l)},n.prototype.drawShades=function(){this.fx.drawShades()},n.prototype.drawRect=function(n){var l=n.target;this.fx.drawRectangleToCoords(n.offsetX,n.offsetY,l)},n.prototype.ngOnChanges=function(n){console.log(n)},n.ctorParameters=function(){return[{type:D}]},n}()),X=t("/oeL"),q=t("BkNc"),U=t("qbdv"),Z=[k],K=X._14({encapsulation:0,styles:Z,data:{}}),z=X._12("app-drawer",W,c,{},{},[]),J=[""],Y=function(){function n(n){this.global=n}return n.prototype.ngOnInit=function(){var n=this,l=new L(this.global,this.previewCanvas.nativeElement,this.previewVideo.nativeElement);this.fx=l,this.fx.initCamera(this.previewVideo.nativeElement);setInterval(function(){return n.drawRealTimeShades(l)},1e3)},n.prototype.drawRealTimeShades=function(n){n.drawFrame(),n.drawExtremeShadesWithMargin()},n.ctorParameters=function(){return[{type:D}]},n}(),H=t("/oeL"),Q=t("BkNc"),$=[J],nn=H._14({encapsulation:0,styles:$,data:{}}),ln=H._12("app-debugger",Y,g,{},{},[]),tn=[""],un=t("XKz0"),en=t("XL2q"),an=(t.n(en),function(){function n(n,l){this.global=n,this.hc=l,this.percentage=0,this.currentGameIndex=-1,this.allowNext=!1,this.gameStart=!0}return n.prototype.start=function(){this.gameStart=!1,this.next()},n.prototype.init=function(){var n=this,l=new L(this.global,this.previewCanvas.nativeElement,this.previewVideo.nativeElement);this.fx=l,this.fx.initCamera(this.previewVideo.nativeElement);this.previewVideo.nativeElement.ontimeupdate=function(){n.indexes&&n.indexes.forEach&&n.frameCompare()}},n.prototype.ngAfterViewChecked=function(){this.previewCanvas&&!this.fx&&this.init()},n.prototype.ngAfterViewInit=function(){var n=this;0===this.global.imageDataStore.length?(console.log("waiting for data"),this.hc.get("./assets/imageData.txt").subscribe(function(l){n.global.importDataStore(l)})):this.init()},n.prototype.next=function(){var n=this;if(this.allowNext=!1,++this.currentGameIndex===this.global.imageDataStore.length)return alert("Game Over!"),this.currentGameIndex=-1,void(this.gameStart=!0);this.fx.loadImageData(this.currentGameIndex),this.targetDarkness=this.fx.getExtremes();for(var l=0,t=this.global.divider,u=[];l<this.targetDarkness.length;){if(this.targetDarkness[l]>0){[l,l-t,l+1,l+t,l-1].forEach(function(l){-1===u.indexOf(l)&&l>=0&&l<n.targetDarkness.length&&u.push(l)})}l++}this.indexes=u},n.prototype.frameCompare=function(){var n=this,l=0,t=this.fx.getFrameDataCanvas(),u=this.fx.getExtremes(t);this.indexes.forEach(function(t){u[t]===n.targetDarkness[t]&&l++}),this.percentage>this.global.minimalPercentage&&(this.allowNext=!0),this.percentage=Math.round(l/this.indexes.length*100)},n.ctorParameters=function(){return[{type:D},{type:un.c}]},n}()),on=t("/oeL"),rn=t("BkNc"),sn=t("qbdv"),cn=t("XKz0"),_n=[tn],gn=on._14({encapsulation:0,styles:_n,data:{}}),dn=on._12("app-game",an,m,{},{},[]),hn=[""],fn=t("/oeL"),pn=t("BkNc"),vn=[hn],mn=fn._14({encapsulation:0,styles:vn,data:{}}),bn=fn._12("app-root",x,y,{},{},[]),yn=t("/oeL"),wn=t("qbdv"),Cn=t("fc+i"),Dn=t("bm2B"),xn=t("XKz0"),kn=t("BkNc"),In=yn._13(C,[x],function(n){return yn._27([yn._28(512,yn.k,yn._9,[[8,[z,ln,dn,bn]],[3,yn.k],yn.E]),yn._28(5120,yn.A,yn._26,[[3,yn.A]]),yn._28(4608,wn.k,wn.j,[yn.A]),yn._28(5120,yn.c,yn._18,[]),yn._28(5120,yn.y,yn._23,[]),yn._28(5120,yn.z,yn._24,[]),yn._28(4608,Cn.b,Cn.s,[wn.c]),yn._28(6144,yn.Q,null,[Cn.b]),yn._28(4608,Cn.e,Cn.f,[]),yn._28(5120,Cn.c,function(n,l,t,u){return[new Cn.k(n),new Cn.o(l),new Cn.n(t,u)]},[wn.c,wn.c,wn.c,Cn.e]),yn._28(4608,Cn.d,Cn.d,[Cn.c,yn.G]),yn._28(135680,Cn.m,Cn.m,[wn.c]),yn._28(4608,Cn.l,Cn.l,[Cn.d,Cn.m]),yn._28(6144,yn.O,null,[Cn.l]),yn._28(6144,Cn.p,null,[Cn.m]),yn._28(4608,yn.X,yn.X,[yn.G]),yn._28(4608,Cn.g,Cn.g,[wn.c]),yn._28(4608,Cn.i,Cn.i,[wn.c]),yn._28(4608,Dn.j,Dn.j,[]),yn._28(4608,xn.h,xn.m,[wn.c,yn.J,xn.k]),yn._28(4608,xn.n,xn.n,[xn.h,xn.l]),yn._28(5120,xn.a,function(n){return[n]},[xn.n]),yn._28(4608,xn.j,xn.j,[]),yn._28(6144,xn.i,null,[xn.j]),yn._28(4608,xn.g,xn.g,[xn.i]),yn._28(6144,xn.b,null,[xn.g]),yn._28(5120,xn.f,xn.o,[xn.b,[2,xn.a]]),yn._28(4608,xn.c,xn.c,[xn.f]),yn._28(5120,kn.a,kn.v,[kn.k]),yn._28(4608,kn.d,kn.d,[]),yn._28(6144,kn.f,null,[kn.d]),yn._28(135680,kn.n,kn.n,[kn.k,yn.D,yn.j,yn.w,kn.f]),yn._28(4608,kn.e,kn.e,[]),yn._28(5120,kn.h,kn.y,[kn.w]),yn._28(5120,yn.b,function(n){return[n]},[kn.h]),yn._28(4608,D,D,[]),yn._28(512,wn.b,wn.b,[]),yn._28(1024,yn.o,Cn.q,[]),yn._28(1024,yn.F,function(){return[kn.r()]},[]),yn._28(512,kn.w,kn.w,[yn.w]),yn._28(1024,yn.d,function(n,l,t){return[Cn.r(n,l),kn.x(t)]},[[2,Cn.h],[2,yn.F],kn.w]),yn._28(512,yn.e,yn.e,[[2,yn.d]]),yn._28(131584,yn._16,yn._16,[yn.G,yn._10,yn.w,yn.o,yn.k,yn.e]),yn._28(2048,yn.g,null,[yn._16]),yn._28(512,yn.f,yn.f,[yn.g]),yn._28(512,Cn.a,Cn.a,[[3,Cn.a]]),yn._28(512,Dn.h,Dn.h,[]),yn._28(512,Dn.c,Dn.c,[]),yn._28(512,xn.e,xn.e,[]),yn._28(512,xn.d,xn.d,[]),yn._28(1024,kn.q,kn.t,[[3,kn.k]]),yn._28(512,kn.p,kn.c,[]),yn._28(512,kn.b,kn.b,[]),yn._28(256,kn.g,{},[]),yn._28(1024,wn.g,kn.s,[wn.m,[2,wn.a],kn.g]),yn._28(512,wn.f,wn.f,[wn.g]),yn._28(512,yn.j,yn.j,[]),yn._28(512,yn.D,yn.U,[yn.j,[2,yn.V]]),yn._28(1024,kn.i,function(){return[[{path:"",component:W},{path:"debugger",component:Y},{path:"game",component:an}]]},[]),yn._28(1024,kn.k,kn.u,[yn.g,kn.p,kn.b,wn.f,yn.w,yn.D,yn.j,kn.i,kn.g,[2,kn.o],[2,kn.j]]),yn._28(512,kn.l,kn.l,[[2,kn.q],[2,kn.k]]),yn._28(512,C,C,[]),yn._28(256,xn.k,"XSRF-TOKEN",[]),yn._28(256,xn.l,"X-XSRF-TOKEN",[])])}),Sn=t("/oeL"),En=t("fc+i");w.production&&Object(Sn._3)(),Object(En.j)().bootstrapModuleFactory(In)},gFIY:function(n,l){function t(n){return new Promise(function(l,t){t(new Error("Cannot find module '"+n+"'."))})}t.keys=function(){return[]},t.resolve=t,n.exports=t,t.id="gFIY"}},[0]);